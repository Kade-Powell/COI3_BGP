<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>COI 3.0 BGP Configurator</title>
    <link
      rel="stylesheet"
      href="../node_modules/bootstrap/dist/css/bootstrap.css"
    />
    <link rel="stylesheet" href="index.css" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
  </head>
  <body>
    <div class="container-fluid">
      <div class="d-flex flex-row-reverse">
        <img
          src="astromonkey.jpg"
          class="logo"
          alt="some text"
          width="50"
          height="50"
        />
        <div id="version-number"></div>
      </div>
      <div class="text-center">
        <h2>BGP Configurator</h2>
      </div>
      <form id="configuratorForm" autocomplete="off" onsubmit=" return false">
        <!-- Service Information row 1 Start -->
        <div class="row">
          <div class="col">
            <h3>Service Information</h3>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label for="serviceType">Service:</label><br />
            <select name="serviceType" id="serviceType">
              <option value="COI">COI</option>
              <option value="WOI">WOI</option>
            </select>
          </div>
          <div class="col">
            <label for="mtu">IP MTU:</label><br />
            <select name="mtu" id="mtu">
              <option value="1500">Default(1500)</option>
              <option value="9000">Jumbo(9000)</option>
            </select>
          </div>
          <div class="col">
            <label for="circuitId">Circuit ID:</label><br />
            <input
              required
              name="circuitId"
              id="circuitId"
              placeholder="14.HMSI.000044..COXC."
            />
          </div>
          <div class="col">
            <label for="serviceId">Service ID:</label><br />
            <input
              required
              name="serviceId"
              id="serviceId"
              placeholder="27114401"
              pattern="^[0-9]{9}$"
              title="Service ID should contain exactly 9 digits to format MAC address"
            />
          </div>
          <div class="col">
            <label for="customerName">Customer Name:</label><br />
            <input
              required
              name="customerName"
              id="customerName"
              placeholder="Cox Communications"
            />
          </div>
          <div class="col">
            <label for="customerId">Customer ID:</label><br />
            <input
              required
              name="customerId"
              id="customerId"
              placeholder="270143769"
              pattern="^[0-9]*$"
              title="Customer ID should be numbers only"
            />
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label for="v4InterfaceIp">V4 Gateway IP & Subnet:</label><br />
            <input
              required
              name="v4InterfaceIp"
              id="v4InterfaceIp"
              placeholder="98.168.0.1/24"
              pattern="^([0-9]{1,3}\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))$"
              title="The gateway address should be in CIDR notation ex. 184.189.206.17/31 and can be up to a /26"
            />
          </div>
          <div class="col">
            <label for="v6InterfaceIp">V6 Gateway IP & Subnet:</label><br />
            <input
              name="v6InterfaceIp"
              id="v6InterfaceIp"
              placeholder="2001:57a:b800::1e/127"
              pattern="^s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*(\/([0-9]|[1-9][0-9]|1[0-1][0-9]|12[0-8]))$"
              title="The gateway address should be in CIDR notation ex. 2001:578:30:6250::1002/127"
            />
          </div>
          <div class="col"><!--Div for equal space--></div>
          <div class="col">
            <label for="sapLag">Lag Assignment:</label><br />
            <select name="sapLag" id="sapLag">
              <option value="311">311</option>
              <option value="312">312</option>
            </select>
          </div>
          <div class="col">
            <label for="innerVlan">Inner VLAN:</label><br />
            <input
              required
              name="innerVlan"
              id="innerVlan"
              placeholder="128"
              pattern="^[0-9]{1,4}$"
              title="Inner VLAN should be contain numbers only"
            />
          </div>

          <div class="col">
            <label for="coiQos">Select QOS:</label><br />
            <select name="coiQos" id="coiQos">
              <option value="">Select One</option>
              <option value="25000">0.256M</option>
              <option value="25001">0.512M</option>
              <option value="25002">0.768M</option>
              <option value="25003">1M</option>
              <option value="25004">1.5M</option>
              <option value="25005">2M</option>
              <option value="25006">3M</option>
              <option value="25007">4M</option>
              <option value="25008">4.5M</option>
              <option value="25009">5M</option>
              <option value="25010">6M</option>
              <option value="25011">7M</option>
              <option value="25012">8M</option>
              <option value="25013">9M</option>
              <option value="25014">10M</option>
              <option value="25015">15M</option>
              <option value="25016">20M</option>
              <option value="25017">25M</option>
              <option value="25018">30M</option>
              <option value="25019">40M</option>
              <option value="25020">45M</option>
              <option value="25021">50M</option>
              <option value="25022">60M</option>
              <option value="25023">70M</option>
              <option value="25024">80M</option>
              <option value="25025">90M</option>
              <option value="25026">100M</option>
              <option value="25027">150M</option>
              <option value="25028">200M</option>
              <option value="25029">250M</option>
              <option value="25030">300M</option>
              <option value="25031">350M</option>
              <option value="25032">400M</option>
              <option value="25033">450M</option>
              <option value="25034">500M</option>
              <option value="25035">550M</option>
              <option value="25036">600M</option>
              <option value="25037">650M</option>
              <option value="25038">700M</option>
              <option value="25039">750M</option>
              <option value="25040">800M</option>
              <option value="25041">850M</option>
              <option value="25042">900M</option>
              <option value="25043">950M</option>
              <option value="25044">1G</option>
              <option value="25045">2G</option>
              <option value="25046">3G</option>
              <option value="25047">4G</option>
              <option value="25048">5G</option>
              <option value="25049">6G</option>
              <option value="25050">7G</option>
              <option value="25051">8G</option>
              <option value="25052">9G</option>
              <option value="25053">10G</option>
              <option value="25054">15G</option>
              <option value="25055">20G</option>
              <option value="25056">25G</option>
              <option value="25057">30G</option>
              <option value="25058">35G</option>
              <option value="25059">40G</option>
              <option value="25060">45G</option>
              <option value="25061">50G</option>
              <option value="25062">60G</option>
              <option value="25063">70G</option>
              <option value="25064">80G</option>
              <option value="25065">90G</option>
              <option value="25066">100G</option>
            </select>
          </div>
        </div>
        <hr />
        <!--BGP section-->
        <div class="row">
          <div class="col">
            <h3>BGP Information</h3>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label for="peerAs">BGP Peer AS:</label><br />
            <input
              required
              name="peerAs"
              id="peerAs"
              placeholder="22778"
              pattern="^[0-9]*$"
              title="BGP Peer AS should be contain numbers only"
            />
          </div>
          <div class="col">
            <label for="bgpFlavor">BGP Flavor:</label><br />
            <select name="bgpFlavor" id="bgpFlavor">
              <option value="LOOP">LOOP</option>
              <option value="LINK">LINK</option>
            </select>
          </div>
          <div class="col">
            <label for="bgpKey">BGP Key:</label><br />
            <input
              required
              name="bgpKey"
              id="bgpKey"
              placeholder="coxBgpPass"
            />
          </div>
          <div class="col">
            <label for="filterId">IP Filter ID:</label><br />
            <input
              required
              name="filterId"
              id="filterId"
              placeholder="1515"
              pattern="^[0-9]*$"
              title="IP Filter ID should contain numbers only"
            />
          </div>
          <div class="col">
            <label for="custBfd">BFD:</label><br />
            <select name="custBfd" id="custBfd">
              <option value="NO">NO</option>
              <option value="YES">YES</option>
            </select>
          </div>
          <div class="col">
            <label for="exportFilter">Export FIlter:</label><br />
            <select name="exportFilter" id="exportFilter">
              <option
                value="'COI-EXPORT-ADD-DEFAULT' 'COI-EXPORT-FILTER-NO-MORE-ROUTES'"
              >
                Default Only
              </option>
              <option value="'COI-EXPORT-FILTER-22773'">Local</option>
              <option
                value="'COI-EXPORT-ADD-DEFAULT' 'COI-EXPORT-FILTER-22773'"
              >
                Local + Default
              </option>
              <option value="'COI-EXPORT-FILTER-22773PLUS1'">Local + 1</option>
              <option
                value="'COI-EXPORT-ADD-DEFAULT' 'COI-EXPORT-FILTER-22773PLUS1'"
              >
                Local + 1 + Default
              </option>
              <option value="'COI-EXPORT-FILTER-COXCUST'">
                Local + 1 (CB Cust Only)
              </option>
              <option
                value="'COI-EXPORT-ADD-DEFAULT' 'COI-EXPORT-FILTER-COXCUST'"
              >
                Local + 1 (CB Cust Only) + Default
              </option>
              <option value="'COI-EXPORT-FILTER-FULL'">Full</option>
              <option value="'COI-EXPORT-ADD-DEFAULT' 'COI-EXPORT-FILTER-FULL'">
                Full + Default
              </option>
            </select>
          </div>
        </div>
        <div class="row">
          <p>Type of Peering Session</p>
          <div class="col-1">
            <label for="bgpFamilyV4">V4:</label>
            <input type="checkbox" name="bgpFamilyV4" id="bgpFamilyV4" />
          </div>
          <div class="col-1">
            <label for="bgpFamilyV6">V6:</label>
            <input type="checkbox" name="bgpFamilyV6" id="bgpFamilyV6" />
          </div>
        </div>
        <div class="row">
          <div class="col-2" hidden id="v4PeerCol">
            <label for="v4PeerIp">V4 Peer IP:</label><br />
            <input
              name="v4PeerIp"
              id="v4PeerIp"
              placeholder="72.101.2.2"
              pattern="((^|\.)((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]?\d))){4}$"
              title="The V4 Peer IP should be a valid IP ex. 98.168.72.2"
            />
          </div>
          <div class="col" hidden id="v4RouteCol">
            <label for="v4PrefixList">V4 Networks Advertised by Customer:</label
            ><br />
            <input
              class="block-input"
              name="v4PrefixList"
              id="v4PrefixList"
              placeholder="Enter IP addresses as comma separated list. ex - 10.1.1.1/24, 10.2.2.2/27, etc.."
              pattern="^(((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(3[0-1]|[1-2][0-9]|[1-9]))(, ?)?)+$"
              title="The V4 Prefix list must be either a single prefix or a comma delimited list ex '70.1.1.1/24, 100.1.1.2/26"
            />
          </div>
        </div>
        <div class="row">
          <div class="col-2" hidden id="v6PeerCol">
            <label for="v6PeerIp">V6 Peer IP:</label><br />
            <input
              name="v6PeerIp"
              id="v6PeerIp"
              placeholder="2001:57a:b800::1f"
              pattern="((^|:)([0-9a-fA-F]{0,4})){1,8}$"
              title="The V6 Peer should be a valid IP ex. 2001:578:30:6250::1003"
            />
          </div>
          <div class="col" hidden id="v6RouteCol">
            <label for="v6PrefixList">V6 Networks Advertised by Customer:</label
            ><br />
            <input
              class="block-input"
              name="v6PrefixList"
              id="v6PrefixList"
              placeholder="Enter IP addresses as comma separated list. ex - 2001:57a:ba00:8500::/56, 2001:57a:ba00:97A9::/64, etc.."
              pattern="^(((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*(\/([0-9]|[1-9][0-9]|1[0-1][0-9]|12[0-8]))(, ?)?)+$"
              title="Should be IPv6 Addresses in a comma delimited list ex. '2001:57a:ba00:8500::/56, 2001:57a:ba00:97A9::/64'"
            />
          </div>
        </div>

        <hr />
        <div class="row text-center">
          <div class="col">
            <button
              type="submit"
              name="submit"
              id="submit"
              class="btn btn-block btn-primary"
            >
              Submit Configuration
            </button>
          </div>
        </div>
      </form>

      <div class="row text-center">
        <div class="col">
          <button
            type="button"
            class="btn btn-block btn-outline-success"
            id="modalToggle"
            data-toggle="modal"
            data-target="#exampleModal"
            hidden
          >
            View Config
          </button>
        </div>
        <div class="col">
          <button
            type="button"
            class="btn btn-block btn-outline-danger"
            id="clearInputs"
            hidden
          >
            Clear Inputs
          </button>
        </div>
      </div>

      <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-dark" id="exampleModalLabel">
                BGP config
              </h5>
              <button
                type="button"
                class="btn-danger btn-close"
                data-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body text-primary">
              <button
                type="button"
                name="copy"
                id="copy-entire-config"
                class="btn btn-block btn-outline-primary"
              >
                Copy Config
              </button>
              <div id="config-container"></div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-block btn-outline-danger"
                data-dismiss="modal"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal -->
    <!-- Button trigger modal -->

    <!-- JavaScript Bundle with Popper.js -->
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.bundle.min.js"
      integrity="sha384-BOsAfwzjNJHrJ8cZidOg56tcQWfp6y72vEJ8xQ9w6Quywb24iOsW913URv1IS4GD"
      crossorigin="anonymous"
    ></script>
    <!--Nunjucks for front end use-->
    <script src="../node_modules/nunjucks/index.js"></script>
    <!--Custom actions-->
    <script src="renderer.js"></script>
  </body>
</html>
